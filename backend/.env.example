# Dating App Backend Environment Configuration
# Copy this file to .env and fill in your values
# 
# ⚠️ SECURITY WARNING ⚠️
# The following variables MUST be changed to secure random values in production:
# - JWT_SECRET (min 64 characters)
# - JWT_REFRESH_SECRET (min 64 characters, different from JWT_SECRET)
# - HASH_SALT (min 32 characters)
#
# Generate secure values using:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# ===========================================
# Server Configuration
# ===========================================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:3000

# ===========================================
# Database - MongoDB
# ===========================================
# Local MongoDB
MONGODB_URI=mongodb://localhost:27017/dating-app

# MongoDB Atlas (Production)
# MONGODB_URI=mongodb+srv://<username>:<password>@cluster.mongodb.net/dating-app?retryWrites=true&w=majority

# ===========================================
# Cache - Redis
# ===========================================
# Local Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_QUEUE_DB=1

# Redis Cloud / Upstash (Production)
# REDIS_URL=redis://:<password>@<host>:<port>

# ===========================================
# Authentication - CRITICAL SECURITY
# ===========================================
# ⚠️ CHANGE THESE IN PRODUCTION! ⚠️
JWT_SECRET=your-super-secret-jwt-key-change-in-production-MINIMUM-64-CHARACTERS
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-refresh-token-secret-DIFFERENT-FROM-JWT-SECRET-64-CHARS
JWT_REFRESH_EXPIRES_IN=30d

# Hash salt for sensitive data encryption
# ⚠️ CHANGE THIS IN PRODUCTION! ⚠️
HASH_SALT=your-hash-salt-change-in-production-MINIMUM-32-CHARACTERS

# ===========================================
# OAuth Providers
# ===========================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# Apple Sign In
APPLE_CLIENT_ID=your-apple-client-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY_PATH=./keys/apple-auth-key.p8

# ===========================================
# File Storage
# ===========================================
# Storage provider: 's3' or 'cloudinary'
STORAGE_PROVIDER=cloudinary

# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
CLOUDINARY_UPLOAD_PRESET=dating-app-uploads

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-bucket-name

# CDN URL (CloudFront for S3, or Cloudinary URL)
CDN_URL=https://your-cdn-url.cloudfront.net

# ===========================================
# Email Service
# ===========================================
# SMTP Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-smtp-user
SMTP_PASS=your-smtp-password
EMAIL_FROM=noreply@yourdatingapp.com

# SendGrid (Alternative)
# SENDGRID_API_KEY=your-sendgrid-api-key

# ===========================================
# Push Notifications
# ===========================================
# Expo Push Notifications
EXPO_ACCESS_TOKEN=your-expo-access-token

# Firebase Cloud Messaging (FCM)
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY_ID=your-private-key-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your-client-id

# ===========================================
# AI Services
# ===========================================
# OpenAI
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4

# ===========================================
# Phone Verification
# ===========================================
# Twilio
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VERIFY_SERVICE_SID=your-verify-service-sid

# ===========================================
# Safety & Moderation
# ===========================================
# Content moderation service
MODERATION_SERVICE=cloudinary
# AWS_REKOGNITION_ENABLED=true

# ===========================================
# Analytics & Monitoring
# ===========================================
# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn
SENTRY_AUTH_TOKEN=your-sentry-auth-token
SENTRY_ORG=your-organization
SENTRY_PROJECT=dating-app

# Datadog (APM)
DATADOG_API_KEY=your-datadog-api-key
DD_AGENT_HOST=localhost
DD_SITE=datadoghq.com

# Mixpanel
MIXPANEL_TOKEN=your-mixpanel-token

# ===========================================
# Logging
# ===========================================
LOG_DIR=./logs
ENABLE_FILE_LOGGING=false

# ===========================================
# Backup Configuration
# ===========================================
BACKUP_DIR=/opt/dating-app/backups
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# ===========================================
# Notification Webhooks
# ===========================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx
NOTIFICATION_EMAIL=admin@yourdomain.com

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Swipe limits (per day)
FREE_DAILY_SWIPE_LIMIT=100
PREMIUM_DAILY_SWIPE_LIMIT=500
UNLIMITED_SWIPES=false

# ===========================================
# Feature Flags
# ===========================================
ENABLE_PREMIUM_FEATURES=true
ENABLE_AI_MATCHING=true
ENABLE_VIDEO_PROFILES=true
ENABLE_VOICE_MESSAGES=true
ENABLE_VIDEO_CALLS=false

# ===========================================
# Security
# ===========================================
# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:8081,http://localhost:19006

# Encryption
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# API Keys (for external integrations)
API_KEY_SALT=your-api-key-salt

# ===========================================
# Vercel Deployment
# ===========================================
VERCEL=false

# ===========================================
# Development Settings
# ===========================================
DEBUG=false
LOG_LEVEL=info
ENABLE_SWAGGER=true

# ===========================================
# Grafana (Monitoring Dashboard)
# ===========================================
GRAFANA_PASSWORD=your-grafana-admin-password

# ===========================================
# Development Tools Access
# ===========================================
MONGO_EXPRESS_USER=admin
MONGO_EXPRESS_PASSWORD=admin123

# ===========================================
# Release Information (Set by CI/CD)
# ===========================================
RELEASE_VERSION=1.0.0
