# Dating App Backend Environment Configuration
# Copy this file to .env and fill in your values
# 
# ⚠️ SECURITY WARNING ⚠️
# The following variables MUST be changed to secure random values in production:
# - JWT_SECRET (min 64 characters)
# - JWT_REFRESH_SECRET (min 64 characters, different from JWT_SECRET)
# - HASH_SALT (min 32 characters)
#
# Generate secure values using:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# ===========================================
# Server Configuration
# ===========================================
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
FRONTEND_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000,http://localhost:8081,http://localhost:19006
CORS_ORIGINS=

# ===========================================
# Database - MongoDB
# ===========================================
# Local MongoDB
MONGODB_URI=mongodb://localhost:27017/dating-app
MONGODB_URL=
MONGO_URI=
MONGODB_POOL_SIZE=10

# MongoDB Atlas (Production)
# MONGODB_URI=mongodb+srv://<username>:<password>@cluster.mongodb.net/dating-app?retryWrites=true&w=majority

# Backup health check (recommended for production)
# Set to true when your backup job is active.
MONGODB_BACKUP_ENABLED=false
# ISO timestamp of the most recent successful backup, e.g. 2026-02-11T20:00:00Z
MONGODB_BACKUP_LAST_SUCCESS_AT=
# Optional JSON status file path written by backup job. Supports:
# { "lastSuccessAt": "2026-02-11T20:00:00Z" } or { "timestamp": "..." }
MONGODB_BACKUP_STATUS_FILE=
# Maximum acceptable backup age before health check fails (hours)
MONGODB_BACKUP_MAX_AGE_HOURS=30

# ===========================================
# Cache - Redis
# ===========================================
# Local Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_QUEUE_DB=1

# Redis Cloud / Upstash (Production)
REDIS_URL=

# ===========================================
# Authentication - CRITICAL SECURITY
# ===========================================
# ⚠️ CHANGE THESE IN PRODUCTION! ⚠️
JWT_SECRET=
JWT_EXPIRES_IN=7d
JWT_ACCESS_EXPIRY=7d
JWT_REFRESH_SECRET=
JWT_REFRESH_EXPIRES_IN=30d
JWT_REFRESH_EXPIRY=30d

# Hash salt for sensitive data encryption
# ⚠️ CHANGE THIS IN PRODUCTION! ⚠️
HASH_SALT=
ENCRYPTION_KEY=

# ===========================================
# OAuth Providers
# ===========================================
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Facebook OAuth
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# Apple Sign In
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_ISSUER_ID=
APPLE_PRIVATE_KEY=
APPLE_PRIVATE_KEY_PATH=./keys/apple-auth-key.p8
APPLE_BUNDLE_ID=
APPLE_SHARED_SECRET=
APPLE_ENVIRONMENT=sandbox

# ===========================================
# File Storage
# ===========================================
# Storage provider: 's3' or 'cloudinary'
STORAGE_PROVIDER=cloudinary
MAX_FILE_SIZE=5242880

# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
CLOUDINARY_UPLOAD_PRESET=

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=
S3_BUCKET_NAME=
S3_BUCKET_URL=

# CDN Configuration
CDN_URL=
CLOUDFRONT_DOMAIN=
CLOUDFRONT_URL=
CLOUDFRONT_DISTRIBUTION_ID=
CLOUDFRONT_KEY_PAIR_ID=
CLOUDFRONT_PRIVATE_KEY=
CLOUDFLARE_CDN_DOMAIN=

# ===========================================
# Email Service
# ===========================================
# Email Service (simple)
EMAIL_SERVICE=
EMAIL_USER=
EMAIL_PASSWORD=
EMAIL_FROM=

# SMTP Configuration (advanced)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# ===========================================
# Push Notifications
# ===========================================
# Expo Push Notifications
EXPO_ACCESS_TOKEN=

# Firebase Cloud Messaging (FCM)
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# ===========================================
# AI Services
# ===========================================
# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4
USE_OPENAI=false

# ===========================================
# Phone Verification
# ===========================================
# Twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
TWILIO_VERIFY_SERVICE_SID=

# ===========================================
# Safety & Moderation
# ===========================================
MODERATION_SERVICE=cloudinary

# ===========================================
# Analytics & Monitoring
# ===========================================
# Sentry (Error Tracking)
SENTRY_DSN=

# Datadog (APM & Infrastructure Monitoring)
DD_API_KEY=
DATADOG_API_KEY=
DD_APP_KEY=
DD_SITE=datadoghq.eu
DD_ENV=production
DD_AGENT_HOST=localhost

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=./logs
ENABLE_FILE_LOGGING=false
SLOW_QUERY_THRESHOLD=1000
VERY_SLOW_QUERY_THRESHOLD=5000
SLOW_REQUEST_THRESHOLD=1000
VERY_SLOW_REQUEST_THRESHOLD=5000

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100

# Swipe limits (per day)
FREE_DAILY_SWIPE_LIMIT=100
PREMIUM_DAILY_SWIPE_LIMIT=500

# ===========================================
# Feature Flags
# ===========================================
FEATURE_PREMIUM=true
FEATURE_AI_MATCHING=true
FEATURE_CHAT=true
FEATURE_VIDEO_CALLS=false
MAINTENANCE_MODE=false

# ===========================================
# Security
# ===========================================
API_KEY=

# ===========================================
# Misc
# ===========================================
VERCEL_ENV=
RELEASE_VERSION=1.0.0
