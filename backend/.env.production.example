# =============================================================================
# BACKEND PRODUCTION ENVIRONMENT VARIABLES
# =============================================================================
# For Render.com deployment
# All variables marked [REQUIRED] must be set before deployment
# =============================================================================

# =============================================================================
# CORE APPLICATION [REQUIRED]
# =============================================================================

NODE_ENV=production
PORT=3001

# =============================================================================
# SECURITY - JWT SECRETS [REQUIRED] [SECRET]
# =============================================================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# MUST be different from each other, minimum 64 characters

JWT_SECRET=<64-char-random-hex-string>
JWT_REFRESH_SECRET=<64-char-random-hex-string-different-from-above>
HASH_SALT=<32-char-random-string>

# =============================================================================
# DATABASE [REQUIRED] [SECRET]
# =============================================================================

# MongoDB Atlas production cluster
# Format: mongodb+srv://<user>:<password>@<cluster>.mongodb.net/<db>?retryWrites=true&w=majority
MONGODB_URI=<your-mongodb-atlas-connection-string>

# =============================================================================
# REDIS CACHE [REQUIRED FOR PRODUCTION]
# =============================================================================

# Use Upstash Redis or similar managed service
# Example: redis://default:xxx@xxx.upstash.io:6379
REDIS_URL=<your-redis-url>

# =============================================================================
# FRONTEND URL [REQUIRED]
# =============================================================================

# Your Vercel production URL - used for CORS and email links
FRONTEND_URL=https://your-app.vercel.app

# Additional CORS origins if needed
# CORS_ORIGIN=https://your-app.vercel.app,https://www.your-app.com

# =============================================================================
# FILE STORAGE [REQUIRED] [SECRET]
# =============================================================================

# Cloudinary (recommended for production)
STORAGE_PROVIDER=cloudinary
CLOUDINARY_CLOUD_NAME=<your-cloud-name>
CLOUDINARY_API_KEY=<your-api-key>
CLOUDINARY_API_SECRET=<your-api-secret>

# =============================================================================
# EMAIL [REQUIRED FOR AUTH]
# =============================================================================

# Option 1: Gmail (simple setup)
EMAIL_SERVICE=gmail
EMAIL_USER=<your-gmail>
EMAIL_PASSWORD=<app-specific-password>
EMAIL_FROM=noreply@your-app.com

# Option 2: SMTP (SendGrid, Mailgun, etc.)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=apikey
# SMTP_PASS=<your-sendgrid-api-key>

# =============================================================================
# PAYMENTS [REQUIRED FOR PREMIUM FEATURES]
# =============================================================================

# Stripe Live Keys (get from Stripe Dashboard)
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Product/Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_MONTHLY=price_...
STRIPE_PRICE_YEARLY=price_...

# =============================================================================
# APP STORE [REQUIRED FOR MOBILE PAYMENTS]
# =============================================================================

# Apple App Store Connect
APPLE_BUNDLE_ID=com.yourcompany.datingapp
APPLE_SHARED_SECRET=<from-app-store-connect>
APPLE_ENVIRONMENT=production

# Google Play Console
GOOGLE_PACKAGE_NAME=com.yourcompany.datingapp
GOOGLE_SERVICE_ACCOUNT_EMAIL=<service-account-email>
GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY=<private-key>

# =============================================================================
# ERROR MONITORING [HIGHLY RECOMMENDED]
# =============================================================================

SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
RELEASE_VERSION=1.0.0

# =============================================================================
# FEATURE FLAGS [OPTIONAL]
# =============================================================================

FEATURE_PREMIUM=true
FEATURE_CHAT=true
FEATURE_AI_MATCHING=false
MAINTENANCE_MODE=false

# =============================================================================
# PERFORMANCE [OPTIONAL - HAS DEFAULTS]
# =============================================================================

FREE_DAILY_SWIPE_LIMIT=100
PREMIUM_DAILY_SWIPE_LIMIT=500
LOG_LEVEL=info

# =============================================================================
# LEGAL URLS [REQUIRED FOR APP STORES]
# =============================================================================

PRIVACY_POLICY_URL=https://your-app.com/privacy
TERMS_OF_SERVICE_URL=https://your-app.com/terms
SUPPORT_URL=https://your-app.com/support
